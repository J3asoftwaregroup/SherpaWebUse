<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/templateWebAuto.xhtml">
	<ui:define name="content">
		<h:form id="gnl">
			<p:messages id="growl" showDetail="true" autoUpdate="true" closable="true"/>	
		<p:wizard flowListener="#{declarationSinistreAuto.onFlowProcess}" backLabel="Précédent" nextLabel="Suivant">
		
		<p:tab id="contrat" title="Contrat">
            <p:panel header="Contrat">
            <fieldset>
	<legend > Critère</legend>

<p:selectOneRadio id="customRadio" value="#{declarationSinistreAuto.optionRech}" layout="custom"   >
<f:selectItem itemLabel="Option 1" itemValue="1" />
<f:selectItem itemLabel="Option 2" itemValue="2" />
<f:selectItem itemLabel="Option 3" itemValue="3" />
</p:selectOneRadio>

	<h:panelGrid columns="6" id="rechercheGrid">
	<p:radioButton id="opt1" for="customRadio" itemIndex="0"/>
	<p:outputLabel for="opt1" value=" Numéro de Police&nbsp;&nbsp;&nbsp;"/>
	<p:radioButton id="opt2" for="customRadio" itemIndex="1"/>
	<p:outputLabel for="opt2" value=" Immatriculation"/>
		
	<p:inputText id="imputRech" value="#{declarationSinistreAuto.valeurDeRecherche}" style="width: 140px; margin-left: 34px;"   required="true" 
	requiredMessage="Veuillez entrez un numero de police ou l'immatriculation du véhicule" placeholder="Entrer le critère"/>
	<p:commandButton id="rech_button" value="Rechercher" actionListener="#{declarationSinistreAuto.rechercherDossierProduction}" 
	style="width: 100px;" update="infoGrid"/>
	</h:panelGrid>
	</fieldset>	
 
          <h:panelGrid columns="4" id="infoGrid">
          <p:outputLabel for="nom"  value="Nom"/>
          <p:inputText id="nom" value="#{declarationSinistreAuto.maPersonne.nomRaisonSociale}" readonly="true"/> 
          
          <p:outputLabel for="preno"  value="Prenoms" style="margin-left: 15px;" />
          <p:inputText id="preno" value="#{declarationSinistreAuto.maPersonne.physique.prenomPers}" readonly="true"/> 
          
          <p:outputLabel for="poli"  value="Police"/>
          <p:inputText id="poli" value="#{declarationSinistreAuto.monContrat.numPolice}" readonly="true"/>
          
          <p:outputLabel for="imat" value="Imatriculation" style="margin-left: 15px;" />
          <p:inputText id="imat" readonly="true"/> 
          </h:panelGrid>
            </p:panel>
        </p:tab>
		
        <p:tab id="personal" title="Carateristique">
            <p:panel header="Caractéristiques du sinistre">
          <hr style="color:white; background-color:#E6E6E6;" size="7"/>
          <div style="color: blue">Merci d’indiquer l’adresse e-mail et le numéro téléphone sur lesquels vous souhaitez être contacté pour ce sinistre.</div>
           <br />
            <h:panelGrid columns="4">
          <p:outputLabel for="mail"  value="E-mail"/>
          <p:inputText id="mail" required="true" validatorMessage="Invalid email format" requiredMessage="Please enter your email address.">
          	<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"></f:validateRegex>
          </p:inputText>
          
          <p:outputLabel for="tel"  value="Telephone" style="margin-left: 15px;"/>
          <p:inputText id="tel" required="true"/> 
          </h:panelGrid>
            </p:panel>
            
            <fieldset style="background-color: #DDECDF">
						<legend>Informations Sinistre</legend>
						<h:panelGrid columns="4">
							<h:outputText value="Lieu du sinistre :" />
							<h:inputTextarea value="#{declarationSinistreAuto.lieu}" cols="50"/>
								
							<p:outputLabel value="Circonstance :"  style="margin-left: 78px !important;"/>
							<h:inputTextarea value="#{declarationSinistreAuto.sinistre.circonstance}" cols="50"/>
						</h:panelGrid>
						
						<h:panelGrid columns="10">
							<h:outputText value="Corporel :"
								style="margin-left: 101px !important;" />
							<p:selectBooleanCheckbox value="#{declarationSinistreAuto.domageCorps}"/>
							<h:outputText value="Matériel :" />
							<p:selectBooleanCheckbox value="#{declarationSinistreAuto.domageMat}"/>
						</h:panelGrid>
						
						<h:panelGrid columns="4">
							<p:outputLabel for="domCorp" value="Dommage corporel:" />
							<h:inputTextarea id="domCorp" value="#{declarationSinistreAuto.vehiculeSinistre.libelleDomageCorp}" cols="50"/>
								
							<p:outputLabel for="domMat" value="Dommage matériel:" style="margin-left: 30px !important;" />
							<h:inputTextarea id="domMat" value="#{declarationSinistreAuto.vehiculeSinistre.libelleDomageMat}" cols="50"/>
						</h:panelGrid>
						
							<h:panelGrid columns="6">
							<h:outputText value="Blessés :" style="margin-left: 70px !important;" />
							<p:inputText value="#{declarationSinistreAuto.nbreBlesse}" style="width: 25px;">
								<f:convertNumber integerOnly="true" minIntegerDigits="0" />
							</p:inputText>
							
							<h:outputText value="Decès :" style="margin-left: 5px !important;" />
							<p:inputText value="#{declarationSinistreAuto.nbreDeces}" style="width: 25px;">
								<f:convertNumber integerOnly="true" minIntegerDigits="0" />
							</p:inputText>
							
							<h:outputText value="RC Assure :" style="margin-left: 5px !important;" />
							<p:inputText value="#{declarationSinistreAuto.rcAssure}" style="width: 25px;" />
						</h:panelGrid>			
					</fieldset>
        </p:tab>
 
        <p:tab id="cond" title="Conducteur">
            <p:panel header="Conducteur">
            	<fieldset style="background-color: #DDECDF"> 
						<legend>Informations Conducteur Sinistre</legend>
						
						
						<h:panelGrid columns="6">
							
							<h:outputText value="Nom :" />
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.nomCondSinistre}" />
							
							<h:outputText value="Prénom :" style="margin-left: 30px !important;"/>
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.prenomCondSinistre}" />
							
							<h:outputText value="Date de naissance :" style="margin-left: 30px !important;" />
							<p:calendar pattern="dd/MM/yyyy" locale="fr"
								value="#{declarationSinistreAuto.conducteurSinistre.dateNaissCondSinistre}">
								<f:convertDateTime pattern="dd/MM/yyyy" locale="fr" />
							</p:calendar>
							
							<h:outputText value="Numéro de permis :" />
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.numPermis}" />
							
							<p:outputLabel value="Catégorie de permis :"
								style="margin-left: 30px !important;" />
							<p:selectOneMenu
								value="#{declarationSinistreAuto.conducteurSinistre.categoriePermis}"
								style="width:50px" >
								<f:selectItem itemLabel="Choisir" itemValue=" " />
								<f:selectItem itemLabel="A" itemValue="A" />
								<f:selectItem itemLabel="B" itemValue="B" />
								<f:selectItem itemLabel="C" itemValue="C" />
								<f:selectItem itemLabel="D" itemValue="D"/>
								<f:selectItem itemLabel="E" itemValue="E"/>
								<f:selectItem itemLabel="BCDE" itemValue="BCDE" />
							</p:selectOneMenu>
							
							<h:outputText value="Adresse :" style="margin-left: 30px !important;"/>
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.adresse}" />
							
							<h:outputText value="Tel fixe :"/>
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.telFixe}" />
							
							<h:outputText value="Tel portable :" style="margin-left: 30px !important;"/>
							<p:inputText
								value="#{declarationSinistreAuto.conducteurSinistre.telCell}" />
							
							<h:outputText value="Email :" style="margin-left: 30px !important;"/>
							<p:inputText value="#{declarationSinistreAuto.conducteurSinistre.email}" validatorMessage="Email incorrect">
								<f:validateRegex
									pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
							</p:inputText>
						</h:panelGrid>						
					</fieldset>	
            </p:panel>
        </p:tab>

    </p:wizard>
						
		</h:form>

	</ui:define>
</ui:composition>
</html>